<!-- README.md -->

# Swift 自动闭包@autoclosure

2021-04-18

如下为官方文档的定义，但是建议你忽略它，搞懂了自动闭包再来看才容易懂：）

> 自动闭包是一种自动创建的闭包，用于包装传递给函数作为参数的表达式。这种闭包不接受任何参数，当它被调
用的时候，会返回被包装在其中的表达式的值。这种便利语法让你能够省略闭包的花括号，用一个普通的表达式来代替显式的闭包。

这是一个正常的闭包的定义和调用:

```swift
func foo(_ i:() -> Int) {
    print(i())
}
foo({return 42})
```

结果会打印42出来。可以使用{}创建一个闭包，并把它传递到foo函数，foo函数会打印此闭包的返回结果。当然，因为返回值明确，可以省略return。让代码更加简洁。

```swift
    func foo(_ i:() -> Int) {
        print(i())
    }
    foo({42})
```

你也常常会使用尾随闭包，把最后一行写成：

```swift
foo(){42}
```

或者：

```swift
foo{42}
```

然而，使用自动闭包，代码可以更省，省掉{},就像这样：

```swift
func bar(_ i:@autoclosure () -> Int) {
    print(i())
}
bar(42)
```


**自动闭包让你能够延迟求值，因为直到你调用这个闭包，代码段才会被执行。延迟求值对于那些有副作用（Side Effect）和高计算成本的代码来说是很有益处的，因为它使得你能控制代码的执行时机。**





